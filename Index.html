<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NebulaVision | Galaxy Classification System</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Exo+2:wght@300;400;600&display=swap" rel="stylesheet">

    <link rel="icon" 
        href="image.png" 
        type="png" />
    <style>
        :root {
            --space-dark: #0b0d17;
            --nebula-purple: #6a0dad;
            --star-yellow: #ffd700;
            --galaxy-blue: #4169e1;
            --dust-pink: #dda0dd;
            --quantum-green: #00ff9d;
            --hologram-blue: #00eeff;
            --plasma-red: #ff3c7e;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Exo 2', sans-serif;
            background-color: var(--space-dark);
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(106, 13, 173, 0.1) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(65, 105, 225, 0.1) 0%, transparent 20%),
                radial-gradient(circle at 50% 50%, rgba(221, 160, 221, 0.05) 0%, transparent 30%);
            color: white;
            margin: 0;
            padding: 0;
            line-height: 1.6;
            overflow-x: hidden;
            min-height: 100vh;
            perspective: 1000px;
            /* cursor: none; */
        }
        
        /* .cursor {
            position: fixed;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: rgba(0, 238, 255, 0.7);
            box-shadow: 0 0 15px var(--hologram-blue), 0 0 30px var(--hologram-blue);
            transform: translate(-50%, -50%);
            pointer-events: none;
            z-index: 9999;
            mix-blend-mode: screen;
            transition: width 0.2s, height 0.2s;
        }
         */
        /* .cursor-follower {
            position: fixed;
            width: 60px;
            height: 60px;
            border: 2px solid var(--quantum-green);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            pointer-events: none;
            z-index: 9998;
            mix-blend-mode: screen;
            transition: all 0.1s ease;
            opacity: 0.5;
        } */
        
      /*  .cursor.active {
            width: 40px;
            height: 40px;
            background: rgba(255, 60, 126, 0.7);
            box-shadow: 0 0 20px var(--plasma-red), 0 0 40px var(--plasma-red);
        } */
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 30px;
        }
        
        header {
            grid-column: 1 / -1;
            text-align: center;
            padding: 40px 0 30px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
            animation: headerEntrance 1.5s cubic-bezier(0.19, 1, 0.22, 1) forwards;
        }
        
        @keyframes headerEntrance {
            0% {
                opacity: 0;
                transform: translateY(-50px) rotateX(30deg);
            }
            100% {
                opacity: 1;
                transform: translateY(0) rotateX(0);
            }
        }
        
        h1 {
            color: var(--star-yellow);
            font-size: 4.5rem;
            text-shadow: 0 0 15px rgba(255, 215, 0, 0.7);
            margin-bottom: 15px;
            font-family: 'Orbitron', sans-serif;
            letter-spacing: 4px;
            position: relative;
            animation: titleGlow 3s infinite alternate;
            text-transform: uppercase;
            background: linear-gradient(to right, #ffd700, #ff8c00, #ffd700);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-top: 20px;
        }
        
        @keyframes titleGlow {
            0% {
                text-shadow: 0 0 15px rgba(255, 215, 0, 0.7);
            }
            100% {
                text-shadow: 0 0 30px rgba(255, 215, 0, 0.9), 0 0 60px rgba(255, 215, 0, 0.5);
            }
        }
        
        .header-subtitle {
            font-size: 1.5rem;
            color: var(--quantum-green);
            margin-bottom: 30px;
            font-weight: 300;
            letter-spacing: 2px;
            animation: subtitlePulse 4s infinite alternate;
        }
        
        @keyframes subtitlePulse {
            0% { opacity: 0.7; }
            100% { opacity: 1; }
        }
        
        .card {
            background: rgba(20, 20, 40, 0.7);
            border-radius: 20px;
            padding: 35px;
            box-shadow: 0 12px 40px rgba(31, 38, 135, 0.5);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            transform-style: preserve-3d;
            animation: cardEntrance 0.8s cubic-bezier(0.19, 1, 0.22, 1) forwards;
            animation-fill-mode: backwards;
            position: relative;
            overflow: hidden;
        }
        
        .card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(transparent, rgba(0, 238, 255, 0.1), transparent 30%);
            animation: rotate 6s linear infinite;
            z-index: -1;
        }
        
        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @keyframes cardEntrance {
            0% {
                opacity: 0;
                transform: translateY(50px) rotateX(30deg) scale(0.9);
            }
            100% {
                opacity: 1;
                transform: translateY(0) rotateX(0) scale(1);
            }
        }
        
        .card:nth-child(2) { animation-delay: 0.1s; }
        .card:nth-child(3) { animation-delay: 0.2s; }
        .card:nth-child(4) { animation-delay: 0.3s; }
        .card:nth-child(5) { animation-delay: 0.4s; }
        .card:nth-child(6) { animation-delay: 0.5s; }
        
        .card:hover {
            transform: translateY(-10px) rotateY(5deg) rotateX(5deg) scale(1.02);
            box-shadow: 0 20px 60px rgba(106, 13, 173, 0.6), 0 0 40px rgba(255, 215, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .flowchart {
            grid-column: 1 / -1;
            height: 500px;
            background: rgba(10, 10, 30, 0.8);
            border-radius: 20px;
            padding: 30px;
            font-size: 16px;
            position: relative;
            overflow: hidden;
            animation: flowchartEntrance 1.2s cubic-bezier(0.19, 1, 0.22, 1) forwards;
        }
        
        @keyframes flowchartEntrance {
            0% {
                opacity: 0;
                transform: scale(0.8) rotateY(30deg);
            }
            100% {
                opacity: 1;
                transform: scale(1) rotateY(0);
            }
        }
        
        .flowchart::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                linear-gradient(45deg, rgba(106, 13, 173, 0.1), rgba(65, 105, 225, 0.1)),
                url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect width="100" height="100" fill="none" stroke="rgba(0,238,255,0.05)" stroke-width="1"/></svg>');
            background-size: 100px 100px;
            z-index: -1;
        }
        
        .flowchart h2 {
            text-align: center;
            margin-bottom: 30px;
            font-family: 'Orbitron', sans-serif;
            color: var(--quantum-green);
            font-size: 2.2rem;
            text-shadow: 0 0 10px rgba(0, 238, 255, 0.5);
        }
        
        .upload-area {
            border: 3px dashed var(--dust-pink);
            border-radius: 15px;
            padding: 50px 20px;
            text-align: center;
            /* cursor: pointer; */
            transition: all 0.4s;
            margin-bottom: 25px;
            position: relative;
            overflow: hidden;
            background: rgba(30, 30, 60, 0.5);
            animation: pulseBorder 3s infinite;
        }
        
        @keyframes pulseBorder {
            0% { border-color: var(--dust-pink); box-shadow: 0 0 10px rgba(221, 160, 221, 0.3); }
            50% { border-color: var(--star-yellow); box-shadow: 0 0 20px rgba(255, 215, 0, 0.5); }
            100% { border-color: var(--dust-pink); box-shadow: 0 0 10px rgba(221, 160, 221, 0.3); }
        }
        
        .upload-area:hover {
            background: rgba(221, 160, 221, 0.15);
            transform: scale(1.01);
        }
        
        button {
            background: linear-gradient(135deg, var(--nebula-purple), var(--galaxy-blue));
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 1.1rem;
            /* cursor: none; */
            transition: all 0.3s;
            font-weight: bold;
            margin: 10px 5px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            font-family: 'Orbitron', sans-serif;
            letter-spacing: 1px;
            z-index: 2;
        }
        
        button::after {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(rgba(255,255,255,0.1), transparent);
            transform: rotate(30deg);
            transition: all 0.5s;
            z-index: -1;
        }
        
        button:hover {
            transform: scale(1.08) translateY(-3px);
            box-shadow: 0 0 30px rgba(106, 13, 173, 0.8);
            background: linear-gradient(135deg, var(--plasma-red), var(--quantum-green));
        }
        
        button:hover::after {
            transform: rotate(30deg) translateY(200%);
        }
        
        .result-container {
            display: none;
            margin-top: 30px;
            animation: fadeIn 1s;
        }
        
        .galaxy-preview {
            max-width: 100%;
            border-radius: 15px;
            border: 2px solid var(--dust-pink);
            margin: 20px 0;
            box-shadow: 0 0 30px rgba(221, 160, 221, 0.4);
            transition: all 0.5s;
        }
        
        .galaxy-preview:hover {
            transform: scale(1.03);
            box-shadow: 0 0 50px rgba(221, 160, 221, 0.7);
        }
        
        .classification-result {
            font-size: 2.2rem;
            color: var(--star-yellow);
            text-align: center;
            margin: 25px 0;
            font-family: 'Orbitron', sans-serif;
            text-transform: uppercase;
            letter-spacing: 2px;
            animation: textPulse 2s infinite alternate;
        }
        
        @keyframes textPulse {
            0% { text-shadow: 0 0 10px rgba(255, 215, 0, 0.7); }
            100% { text-shadow: 0 0 30px rgba(255, 215, 0, 1), 0 0 60px rgba(255, 215, 0, 0.5); }
        }
        
        .confidence-meter {
            height: 35px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            margin: 25px 0;
            overflow: hidden;
            position: relative;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.5);
            border: 1px solid rgba(0, 238, 255, 0.3);
        }
        
        .confidence-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--nebula-purple), var(--star-yellow));
            border-radius: 20px;
            width: 0%;
            transition: width 1.5s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            position: relative;
            overflow: hidden;
        }
        
        .confidence-fill::after {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: shine 2s infinite;
        }
        
        @keyframes shine {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 20px;
            margin-top: 25px;
        }
        
        .feature-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            transition: all 0.4s;
            position: relative;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            transform-style: preserve-3d;
            border: 1px solid rgba(0, 238, 255, 0.2);
        }
        
        .feature-card:hover {
            transform: translateY(-8px) rotateX(5deg);
            background: rgba(255, 255, 255, 0.15);
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
            border: 1px solid var(--quantum-green);
        }
        
        .feature-card::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--nebula-purple), var(--star-yellow));
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.5s;
        }
        
        .feature-card:hover::before {
            transform: scaleX(1);
        }
        
        .feature-value {
            font-size: 1.5rem;
            color: var(--star-yellow);
            font-weight: bold;
            margin-top: 10px;
            font-family: 'Orbitron', sans-serif;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(255, 215, 0, 0.7); }
            70% { box-shadow: 0 0 0 15px rgba(255, 215, 0, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 215, 0, 0); }
        }
        
        .pulsing {
            animation: pulse 2s infinite;
        }
        
        footer {
            grid-column: 1 / -1;
            text-align: center;
            padding: 30px;
            margin-top: 40px;
            border-top: 1px solid var(--dust-pink);
            font-size: 1rem;
            color: rgba(255, 255, 255, 0.7);
            animation: fadeIn 1.5s;
        }
        
        .visualization-container {
            height: 500px;
            position: relative;
            border-radius: 15px;
            overflow: hidden;
            margin: 20px 0;
            box-shadow: 0 0 40px rgba(106, 13, 173, 0.5);
            border: 1px solid rgba(0, 238, 255, 0.3);
        }
        
        .visualization-container canvas {
            border-radius: 15px;
        }
        
        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 30px 0;
        }
        
        .comparison-item {
            background: rgba(50, 50, 90, 0.6);
            border-radius: 15px;
            padding: 15px;
            text-align: center;
            transition: all 0.4s;
            /* cursor: none; */
            border: 2px solid transparent;
        }
        
        .comparison-item:hover {
            transform: translateY(-10px);
            border: 2px solid var(--star-yellow);
            box-shadow: 0 10px 25px rgba(255, 215, 0, 0.3);
        }
        
        .comparison-item img {
            width: 100%;
            height: 150px;
            object-fit: cover;
            border-radius: 10px;
            margin-bottom: 10px;
        }
        
        .report-btn {
            background: linear-gradient(135deg, var(--plasma-red), var(--quantum-green));
            display: block;
            width: 100%;
            margin-top: 20px;
            padding: 18px;
            font-size: 1.2rem;
        }
        
        .featured-galaxy {
            position: absolute;
            width: 100px;
            height: 100px;
            border-radius: 50%;
            pointer-events: none;
            z-index: -1;
            animation: float 15s infinite linear;
            opacity: 0.3;
            filter: blur(1px);
        }
        
        @keyframes float {
            0% {
                transform: translate(0, 0) rotate(0deg);
            }
            100% {
                transform: translate(calc(100vw - 150px), calc(100vh - 150px)) rotate(360deg);
            }
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .tech-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-top: 25px;
        }
        
        .tech-item {
            background: rgba(30, 30, 60, 0.6);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            border: 1px solid rgba(0, 238, 255, 0.2);
            transition: all 0.3s;
        }
        
        .tech-item:hover {
            transform: translateY(-5px);
            border: 1px solid var(--quantum-green);
            box-shadow: 0 10px 20px rgba(0, 255, 157, 0.2);
        }
        
        @media (max-width: 1100px) {
            .container {
                grid-template-columns: 1fr;
            }
            
            .comparison-grid, .tech-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            h1 {
                font-size: 3.5rem;
            }
        }
        
        @media (max-width: 768px) {
            .comparison-grid, .tech-grid {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 2.8rem;
            }
            
            .header-subtitle {
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <!-- <div class="cursor"></div> -->
    <!-- <div class="cursor-follower"></div> -->
    
    <div class="container">
        <header>
            <div class="logo">
                <svg width="100" height="100" viewBox="0 0 100 100" style="margin: 0 auto 20px;">
                    <circle cx="50" cy="50" r="45" fill="none" stroke="url(#gradient)" stroke-width="3" stroke-dasharray="10,5" />
                    <circle cx="50" cy="50" r="35" fill="none" stroke="url(#gradient)" stroke-width="2" stroke-dasharray="5,5" />
                    <circle cx="50" cy="50" r="15" fill="#6a0dad" />
                    <path d="M50,5 L60,40 L95,50 L60,60 L50,95 L40,60 L5,50 L40,40 Z" fill="none" stroke="#00eeff" stroke-width="2" />
                    <defs>
                        <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stop-color="#6a0dad" />
                            <stop offset="100%" stop-color="#00eeff" />
                        </linearGradient>
                    </defs>
                </svg>
            </div>
            <h1>NEBULA<span style="color: #00eeff;">VISION</span></h1>
            <div class="header-subtitle">ADVANCED GALAXY CLASSIFICATION & ANALYSIS SYSTEM</div>
            <div class="controls">
                <button class="pulsing">REAL-TIME SKY SURVEY</button>
                <button class="pulsing">HUBBLE ARCHIVE</button>
                <button class="pulsing">JAMES WEBB TELESCOPE</button>
            </div>
        </header>
        
        <div class="card">
            <h2>IMAGE UPLOAD & ANALYSIS</h2>
            <div class="upload-area" id="uploadArea">
                <p>DRAG & DROP GALAXY IMAGE OR</p>
                <button id="uploadBtn">SELECT FITS/IMAGE FILE</button>
                <input type="file" id="fileInput" accept="image/*,.fits" style="display: none;">
                <p>SUPPORTED FORMATS: JPG, PNG, TIFF, FITS (MAX 50MB)</p>
            </div>
            <div class="preview-container" id="previewContainer" style="display: none;">
                <h3>IMAGE PREVIEW & PROCESSING</h3>
                <img id="imagePreview" class="galaxy-preview" src="" alt="Galaxy preview">
                <div class="controls">
                    <button id="analyzeBtn" class="pulsing">ANALYZE GALAXY</button>
                    <button id="enhanceBtn">ENHANCE FEATURES</button>
                    <button id="simulateBtn">3D SIMULATION</button>
                </div>
            </div>
        </div>
        
        <div class="card">
            <h2>GALAXY CLASSIFICATION & PROPERTIES</h2>
            <div id="infoPanel">
                <p>UPLOAD AN IMAGE TO ANALYZE GALAXY PROPERTIES USING OUR DEEP LEARNING MODEL TRAINED ON OVER 500,000 ASTRONOMICAL IMAGES.</p>
                <p>THE SYSTEM WILL IDENTIFY:</p>
                <ul>
                    <li>GALAXY TYPE (SPIRAL, ELLIPTICAL, IRREGULAR, ETC.)</li>
                    <li>REDSHIFT AND DISTANCE ESTIMATION</li>
                    <li>MORPHOLOGICAL CLASSIFICATION (HUBBLE TYPE)</li>
                    <li>STAR FORMATION RATE</li>
                    <li>DARK MATTER DISTRIBUTION</li>
                </ul>
            </div>
            
            <div class="result-container" id="resultContainer">
                <h3>CLASSIFICATION RESULT</h3>
                <div class="classification-result" id="classificationResult">SPIRAL GALAXY (GRAND DESIGN)</div>
                <div>
                    <p>CONFIDENCE: <span id="confidenceValue">92%</span></p>
                    <div class="confidence-meter">
                        <div class="confidence-fill" id="confidenceFill"></div>
                    </div>
                </div>
                
                <div class="features">
                    <div class="feature-card">
                        <div>REDSHIFT</div>
                        <div class="feature-value" id="redshiftValue">0.05</div>
                    </div>
                    <div class="feature-card">
                        <div>APPARENT MAGNITUDE</div>
                        <div class="feature-value" id="magnitudeValue">17.2</div>
                    </div>
                    <div class="feature-card">
                        <div>ANGULAR SIZE</div>
                        <div class="feature-value" id="sizeValue">2.3'</div>
                    </div>
                    <div class="feature-card">
                        <div>HUBBLE TYPE</div>
                        <div class="feature-value" id="morphologyValue">Sbc</div>
                    </div>
                    <div class="feature-card">
                        <div>STAR FORMATION</div>
                        <div class="feature-value" id="sfrValue">4.2 M☉/YR</div>
                    </div>
                    <div class="feature-card">
                        <div>DARK MATTER</div>
                        <div class="feature-value" id="dmValue">72%</div>
                    </div>
                </div>
                
                <h3>CHARACTERISTICS</h3>
                <ul>
                    <li>DISTINCT SPIRAL ARMS WITH ACTIVE STAR FORMATION REGIONS</li>
                    <li>VISIBLE DUST LANES THROUGHOUT THE GALACTIC DISK</li>
                    <li>BRIGHT CENTRAL BULGE WITH BAR STRUCTURE</li>
                    <li>ESTIMATED STELLAR MASS: 2.1×10¹¹ M☉</li>
                </ul>
                
                <button class="report-btn">DOWNLOAD FULL ANALYSIS REPORT (PDF)</button>
            </div>
        </div>
        
        <div class="card flowchart">
            <h2>DEEP LEARNING CLASSIFICATION WORKFLOW</h2>
            <div class="mermaid">
graph LR
    A[Galaxy Image Input] --> B(Preprocessing Pipeline)
    B --> C[Feature Extraction]
    C --> D[Deep Learning Analysis]
    D --> E[Classification & Properties]
    E --> F[3D Reconstruction]
    E --> G[Scientific Report]
    
    subgraph Preprocessing Pipeline
        B1[Background Subtraction] --> B2[Noise Reduction]
        B2 --> B3[Cosmic Ray Removal]
        B3 --> B4[PSF Deconvolution]
        B4 --> B5[Flux Calibration]
    end
    
    subgraph Feature Extraction
        C1[Surface Brightness] --> C2[Color Indices]
        C2 --> C3[Asymmetry]
        C3 --> C4[Clumpiness]
        C4 --> C5[Gini Coefficient]
        C5 --> C6[M20 Index]
    end
    
    subgraph Deep Learning Analysis
        D1[Convolutional Neural Network] --> D2[Vision Transformer]
        D2 --> D3[Random Forest]
        D3 --> D4[Gradient Boosting]
    end
    
    subgraph Classification & Properties
        E1[Morphological Type] --> E2[Redshift Estimation]
        E2 --> E3[Physical Properties]
        E3 --> E4[Dark Matter Analysis]
    end
            </div>
        </div>
        
        <div class="card">
            <h2>3D GALAXY VISUALIZATION</h2>
            <div class="visualization-container" id="visualizationContainer">
                <canvas id="galaxyCanvas"></canvas>
            </div>
            <div class="controls">
                <button id="rotateBtn">AUTO-ROTATE</button>
                <button id="explodeBtn">EXPLODE VIEW</button>
                <button id="toggleStars">TOGGLE STARS</button>
                <button id="zoomInBtn">ZOOM IN</button>
                <button id="zoomOutBtn">ZOOM OUT</button>
            </div>
        </div>
        
        <div class="card">
            <h2>TECHNICAL IMPLEMENTATION</h2>
            <div class="tech-grid">
                <div class="tech-item">
                    <h3>CONVOLUTIONAL NEURAL NETWORK</h3>
                    <p>ResNet-152 architecture with custom astronomy layers</p>
                    <div class="feature-value">98.2% ACCURACY</div>
                </div>
                <div class="tech-item">
                    <h3>VISION TRANSFORMERS</h3>
                    <p>ViT-Large model with astronomical attention mechanisms</p>
                    <div class="feature-value">97.8% ACCURACY</div>
                </div>
                <div class="tech-item">
                    <h3>HYBRID MODEL</h3>
                    <p>Combined CNN + ViT ensemble with stacking classifier</p>
                    <div class="feature-value">99.1% ACCURACY</div>
                </div>
            </div>
            
            <h3>DATA PROCESSING PIPELINE</h3>
            <canvas id="pipelineChart" height="300"></canvas>
        </div>
        
        <footer>
            <p>NEBULAVISION GALAXY CLASSIFICATION SYSTEM | USING NASA, ESA, AND SDSS DATA | DEEP LEARNING ASTRONOMY PLATFORM</p>
            <p>NEXT-GENERATION FEATURES: 3D VISUALIZATION • REAL-TIME ANALYSIS • SCIENTIFIC REPORTING • DATABASE COMPARISON</p>
        </footer>
    </div>

    <script>
        // Initialize Mermaid
        mermaid.initialize({
            startOnLoad: true,
            theme: 'dark',
            securityLevel: 'loose',
            flowchart: {
                useMaxWidth: false,
                htmlLabels: true,
                curve: 'basis'
            }
        });
        
        // // Custom cursor
        // const cursor = document.querySelector('.cursor');
        // const cursorFollower = document.querySelector('.cursor-follower');
        
        // document.addEventListener('mousemove', (e) => {
        //     cursor.style.left = e.clientX + 'px';
        //     cursor.style.top = e.clientY + 'px';
            
        //     setTimeout(() => {
        //         cursorFollower.style.left = e.clientX + 'px';
        //         cursorFollower.style.top = e.clientY + 'px';
        //     }, 100);
        // });
        
        document.querySelectorAll('button, .upload-area, .feature-card').forEach(element => {
            element.addEventListener('mouseenter', () => {
                // cursor.classList.add('active');
            });
            
            element.addEventListener('mouseleave', () => {
                // cursor.classList.remove('active');
            });
        });
        
        // Initialize 3D visualization
        function init3DVisualization() {
            const container = document.getElementById('visualizationContainer');
            const canvas = document.getElementById('galaxyCanvas');
            
            // Set canvas size
            canvas.width = container.clientWidth;
            canvas.height = container.clientHeight;
            
            // Setup Three.js
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, canvas.width / canvas.height, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ 
                canvas, 
                antialias: true, 
                alpha: true 
            });
            
            renderer.setSize(canvas.width, canvas.height);
            renderer.setPixelRatio(window.devicePixelRatio);
            
            // Galaxy parameters
            const galaxyParams = {
                stars: 10000,
                arms: 4,
                armSpread: 0.6,
                coreRadius: 3,
                coreStars: 500,
                starSize: 0.07,
                rotationSpeed: 0.002,
                autoRotate: true,
                showStars: true,
                zoom: 30
            };
            
            // Create galaxy
            const galaxy = new THREE.Group();
            scene.add(galaxy);
            
            // Create stars
            const starGeometry = new THREE.BufferGeometry();
            const starMaterial = new THREE.PointsMaterial({
                color: 0xffffff,
                size: galaxyParams.starSize,
                sizeAttenuation: true,
                transparent: true,
                opacity: 0.9
            });
            
            const positions = new Float32Array(galaxyParams.stars * 3);
            const colors = new Float32Array(galaxyParams.stars * 3);
            
            // Create spiral arms
            for (let i = 0; i < galaxyParams.stars; i++) {
                const arm = Math.floor(i / (galaxyParams.stars / galaxyParams.arms)) % galaxyParams.arms;
                const distance = Math.random() * 30;
                const angle = arm * (2 * Math.PI / galaxyParams.arms) + 
                             (Math.random() - 0.5) * galaxyParams.armSpread + 
                             distance * 0.15;
                
                const x = Math.cos(angle) * distance;
                const y = (Math.random() - 0.5) * 3;
                const z = Math.sin(angle) * distance;
                
                positions[i * 3] = x;
                positions[i * 3 + 1] = y;
                positions[i * 3 + 2] = z;
                
                // Color based on distance
                const colorIntensity = 0.5 + Math.random() * 0.5;
                colors[i * 3] = 0.8 * colorIntensity; // R
                colors[i * 3 + 1] = 0.9 * colorIntensity; // G
                colors[i * 3 + 2] = 1.0 * colorIntensity; // B
            }
            
            // Create core stars
            for (let i = 0; i < galaxyParams.coreStars; i++) {
                const index = galaxyParams.stars + i;
                const distance = Math.random() * galaxyParams.coreRadius;
                const angle = Math.random() * Math.PI * 2;
                const height = (Math.random() - 0.5) * 2;
                
                const x = Math.cos(angle) * distance;
                const y = height;
                const z = Math.sin(angle) * distance;
                
                positions[index * 3] = x;
                positions[index * 3 + 1] = y;
                positions[index * 3 + 2] = z;
                
                // Yellow core
                colors[index * 3] = 1.0; // R
                colors[index * 3 + 1] = 0.8; // G
                colors[index * 3 + 2] = 0.2; // B
            }
            
            starGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
            starGeometry.setAttribute('color', new THREE.BufferAttribute(colors, 3));
            
            const stars = new THREE.Points(starGeometry, starMaterial);
            galaxy.add(stars);
            
            // Add ambient and point lights
            const ambientLight = new THREE.AmbientLight(0x333333);
            scene.add(ambientLight);
            
            const pointLight = new THREE.PointLight(0xffffff, 1, 100);
            pointLight.position.set(10, 10, 10);
            scene.add(pointLight);
            
            // Position camera
            camera.position.z = galaxyParams.zoom;
            
            // Animation
            function animate() {
                requestAnimationFrame(animate);
                
                if (galaxyParams.autoRotate) {
                    galaxy.rotation.y += galaxyParams.rotationSpeed;
                }
                
                renderer.render(scene, camera);
            }
            
            animate();
            
            // Interaction
            let isDragging = false;
            let previousMousePosition = { x: 0, y: 0 };
            
            canvas.addEventListener('mousedown', (e) => {
                isDragging = true;
                previousMousePosition = { x: e.clientX, y: e.clientY };
                // cursor.classList.add('active');
            });
            
            canvas.addEventListener('mousemove', (e) => {
                if (isDragging) {
                    const deltaX = e.clientX - previousMousePosition.x;
                    const deltaY = e.clientY - previousMousePosition.y;
                    
                    galaxy.rotation.y += deltaX * 0.01;
                    galaxy.rotation.x += deltaY * 0.01;
                    
                    previousMousePosition = { x: e.clientX, y: e.clientY };
                }
            });
            
            canvas.addEventListener('mouseup', () => {
                isDragging = false;
                // cursor.classList.remove('active');
            });
            
            canvas.addEventListener('mouseleave', () => {
                isDragging = false;
                // cursor.classList.remove('active');
            });
            
            // Button controls
            document.getElementById('rotateBtn').addEventListener('click', () => {
                galaxyParams.autoRotate = !galaxyParams.autoRotate;
            });
            
            document.getElementById('explodeBtn').addEventListener('click', () => {
                // Simple explode effect
                for (let i = 0; i < positions.length; i += 3) {
                    const x = positions[i];
                    const y = positions[i + 1];
                    const z = positions[i + 2];
                    
                    const distance = Math.sqrt(x*x + y*y + z*z);
                    const direction = { x: x/distance, y: y/distance, z: z/distance };
                    
                    positions[i] += direction.x * 0.8;
                    positions[i + 1] += direction.y * 0.8;
                    positions[i + 2] += direction.z * 0.8;
                }
                
                starGeometry.attributes.position.needsUpdate = true;
                
                // Reset after delay
                setTimeout(() => {
                    for (let i = 0; i < positions.length; i += 3) {
                        const x = positions[i];
                        const y = positions[i + 1];
                        const z = positions[i + 2];
                        
                        const distance = Math.sqrt(x*x + y*y + z*z);
                        const direction = { x: x/distance, y: y/distance, z: z/distance };
                        
                        positions[i] -= direction.x * 0.8;
                        positions[i + 1] -= direction.y * 0.8;
                        positions[i + 2] -= direction.z * 0.8;
                    }
                    
                    starGeometry.attributes.position.needsUpdate = true;
                }, 1500);
            });
            
            document.getElementById('toggleStars').addEventListener('click', () => {
                stars.visible = !stars.visible;
            });
            
            document.getElementById('zoomInBtn').addEventListener('click', () => {
                galaxyParams.zoom -= 5;
                if (galaxyParams.zoom < 10) galaxyParams.zoom = 10;
                camera.position.z = galaxyParams.zoom;
            });
            
            document.getElementById('zoomOutBtn').addEventListener('click', () => {
                galaxyParams.zoom += 5;
                if (galaxyParams.zoom > 100) galaxyParams.zoom = 100;
                camera.position.z = galaxyParams.zoom;
            });
        }
        
        // Initialize charts
        function initCharts() {
            // Pipeline chart
            const pipelineCtx = document.getElementById('pipelineChart').getContext('2d');
            const pipelineChart = new Chart(pipelineCtx, {
                type: 'bar',
                data: {
                    labels: ['Image Acquisition', 'Preprocessing', 'Feature Extraction', 'CNN Analysis', 'ViT Analysis', 'Ensemble', 'Classification'],
                    datasets: [{
                        label: 'Processing Time (ms)',
                        data: [120, 85, 210, 320, 280, 150, 90],
                        backgroundColor: [
                            'rgba(106, 13, 173, 0.8)',
                            'rgba(65, 105, 225, 0.8)',
                            'rgba(221, 160, 221, 0.8)',
                            'rgba(255, 215, 0, 0.8)',
                            'rgba(255, 99, 132, 0.8)',
                            'rgba(75, 192, 192, 0.8)',
                            'rgba(153, 102, 255, 0.8)'
                        ],
                        borderColor: [
                            'rgba(106, 13, 173, 1)',
                            'rgba(65, 105, 225, 1)',
                            'rgba(221, 160, 221, 1)',
                            'rgba(255, 215, 0, 1)',
                            'rgba(255, 99, 132, 1)',
                            'rgba(75, 192, 192, 1)',
                            'rgba(153, 102, 255, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            display: false
                        },
                        title: {
                            display: true,
                            text: 'Processing Time by Stage',
                            color: 'white',
                            font: {
                                size: 16
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            ticks: {
                                color: 'white'
                            }
                        },
                        x: {
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            ticks: {
                                color: 'white'
                            }
                        }
                    }
                }
            });
        }
        
        // DOM elements
        const uploadArea = document.getElementById('uploadArea');
        const fileInput = document.getElementById('fileInput');
        const uploadBtn = document.getElementById('uploadBtn');
        const previewContainer = document.getElementById('previewContainer');
        const imagePreview = document.getElementById('imagePreview');
        const analyzeBtn = document.getElementById('analyzeBtn');
        const resultContainer = document.getElementById('resultContainer');
        const infoPanel = document.getElementById('infoPanel');
        const classificationResult = document.getElementById('classificationResult');
        const confidenceFill = document.getElementById('confidenceFill');
        const confidenceValue = document.getElementById('confidenceValue');
        const redshiftValue = document.getElementById('redshiftValue');
        const magnitudeValue = document.getElementById('magnitudeValue');
        const sizeValue = document.getElementById('sizeValue');
        const morphologyValue = document.getElementById('morphologyValue');
        const sfrValue = document.getElementById('sfrValue');
        const dmValue = document.getElementById('dmValue');
        
        // Setup event listeners
        uploadBtn.addEventListener('click', () => fileInput.click());
        fileInput.addEventListener('change', handleImageUpload);
        uploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadArea.style.backgroundColor = 'rgba(221, 160, 221, 0.2)';
        });
        uploadArea.addEventListener('dragleave', () => {
            uploadArea.style.backgroundColor = '';
        });
        uploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadArea.style.backgroundColor = '';
            if (e.dataTransfer.files.length) {
                fileInput.files = e.dataTransfer.files;
                handleImageUpload();
            }
        });
        analyzeBtn.addEventListener('click', analyzeImage);
        document.getElementById('enhanceBtn').addEventListener('click', enhanceImage);
        document.getElementById('simulateBtn').addEventListener('click', simulate3D);
        
        // Initialize
        window.addEventListener('load', () => {
            init3DVisualization();
            initCharts();
        });
        
        // Handle image upload
        function handleImageUpload() {
            if (fileInput.files && fileInput.files[0]) {
                const reader = new FileReader();
                
                reader.onload = function(e) {
                    imagePreview.src = e.target.result;
                    previewContainer.style.display = 'block';
                    resultContainer.style.display = 'none';
                    infoPanel.style.display = 'block';
                    
                    // Animate entrance
                    previewContainer.style.animation = 'fadeIn 0.8s';
                }
                
                reader.readAsDataURL(fileInput.files[0]);
            }
        }
        
        // Enhance image (simulated)
        function enhanceImage() {
            analyzeBtn.textContent = 'ENHANCING...';
            analyzeBtn.disabled = true;
            
            // Animate enhancement
            imagePreview.style.filter = 'brightness(1) contrast(1)';
            let brightness = 1;
            let contrast = 1;
            let enhancement = setInterval(() => {
                brightness += 0.02;
                contrast += 0.01;
                imagePreview.style.filter = `brightness(${brightness}) contrast(${contrast})`;
                
                if (brightness >= 1.4) {
                    clearInterval(enhancement);
                    analyzeBtn.textContent = 'ANALYZE GALAXY';
                    analyzeBtn.disabled = false;
                    imagePreview.style.boxShadow = '0 0 40px rgba(0, 255, 157, 0.7)';
                    
                    // Reset after delay
                    setTimeout(() => {
                        imagePreview.style.boxShadow = '0 0 30px rgba(221, 160, 221, 0.4)';
                    }, 2000);
                }
            }, 30);
        }
        
        // Simulate 3D view
        function simulate3D() {
            const container = document.querySelector('.visualization-container');
            container.style.boxShadow = '0 0 50px rgba(255, 215, 0, 0.8)';
            container.animate([
                { transform: 'scale(1)', boxShadow: '0 0 40px rgba(106, 13, 173, 0.5)' },
                { transform: 'scale(1.05)', boxShadow: '0 0 60px rgba(255, 215, 0, 1)' },
                { transform: 'scale(1)', boxShadow: '0 0 40px rgba(106, 13, 173, 0.5)' }
            ], {
                duration: 1500,
                iterations: 1
            });
        }
        
        // Analyze image (simulated)
        function analyzeImage() {
            // Show loading state
            analyzeBtn.textContent = 'ANALYZING...';
            analyzeBtn.disabled = true;
            
            // Create a pulsating effect on the card
            const card = document.querySelector('.card:nth-child(2)');
            card.style.animation = 'none';
            setTimeout(() => {
                card.style.animation = 'pulse 1.5s 3';
            }, 10);
            
            // Simulate processing time
            setTimeout(() => {
                // Show results
                previewContainer.style.display = 'block';
                resultContainer.style.display = 'block';
                infoPanel.style.display = 'none';
                analyzeBtn.textContent = 'ANALYZE GALAXY';
                analyzeBtn.disabled = false;
                
                // Simulate different results based on a random selection
                const types = [
                    {
                        name: 'SPIRAL GALAXY (GRAND DESIGN)', 
                        confidence: 92, 
                        redshift: 0.05, 
                        magnitude: 17.2, 
                        size: "2.3'", 
                        morphology: "Sbc",
                        sfr: "4.2 M☉/YR",
                        dm: "72%"
                    },
                    {
                        name: 'ELLIPTICAL GALAXY', 
                        confidence: 87, 
                        redshift: 0.12, 
                        magnitude: 16.8, 
                        size: "3.1'", 
                        morphology: "E3",
                        sfr: "0.3 M☉/YR",
                        dm: "85%"
                    },
                    {
                        name: 'BARRED SPIRAL GALAXY', 
                        confidence: 78, 
                        redshift: 0.08, 
                        magnitude: 18.1, 
                        size: "1.8'", 
                        morphology: "SBa",
                        sfr: "3.1 M☉/YR",
                        dm: "68%"
                    },
                    {
                        name: 'IRREGULAR GALAXY', 
                        confidence: 85, 
                        redshift: 0.03, 
                        magnitude: 19.3, 
                        size: "4.2'", 
                        morphology: "Irr",
                        sfr: "5.8 M☉/YR",
                        dm: "58%"
                    },
                    {
                        name: 'LENTICULAR GALAXY', 
                        confidence: 76, 
                        redshift: 0.15, 
                        magnitude: 17.5, 
                        size: "2.5'", 
                        morphology: "S0",
                        sfr: "0.8 M☉/YR",
                        dm: "79%"
                    }
                ];
                
                const randomType = types[Math.floor(Math.random() * types.length)];
                
                classificationResult.textContent = randomType.name;
                confidenceValue.textContent = randomType.confidence + '%';
                redshiftValue.textContent = randomType.redshift;
                magnitudeValue.textContent = randomType.magnitude;
                sizeValue.textContent = randomType.size;
                morphologyValue.textContent = randomType.morphology;
                sfrValue.textContent = randomType.sfr;
                dmValue.textContent = randomType.dm;
                
                // Animate confidence meter
                setTimeout(() => {
                    confidenceFill.style.width = randomType.confidence + '%';
                }, 100);
                
                // Animate result entrance
                resultContainer.style.animation = 'fadeIn 1s';
                
                // Add visual highlight
                resultContainer.style.boxShadow = '0 0 40px rgba(0, 255, 157, 0.5)';
                setTimeout(() => {
                    resultContainer.style.boxShadow = '';
                }, 2000);
            }, 3000);
        }
    </script>
</body>
</html>
